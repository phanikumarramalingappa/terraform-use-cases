{"format_version":"1.2","terraform_version":"1.12.2","variables":{"instance_id":{"value":"i-02de443f0ea5e5e31"},"lambda_name":{"value":"lambda"},"lambda_role":{"value":"arn:aws:iam::911891700576:role/service-role/stop-ec2-serverless-demo-role-if41syaa"},"region":{"value":"us-east-1"},"scheduler_role_arn":{"value":"arn:aws:iam::911891700576:policy/service-role/Amazon-EventBridge-Scheduler-Execution-Policy-1a4e577d-d5dc-4e47-8a14-f73e9b1b40d8"}},"planned_values":{"root_module":{"child_modules":[{"resources":[{"address":"module.lambda.aws_lambda_function.start_lambda","mode":"managed","type":"aws_lambda_function","name":"start_lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:911891700576:function:start-lambda","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"instance_id":"i-02de443f0ea5e5e31","region":"us-east-1"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"modules/lambda/start_lambda.zip","function_name":"start-lambda","handler":"start_lambda.lambda_handler","id":"start-lambda","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:911891700576:function:start-lambda/invocations","kms_key_arn":"","last_modified":"2025-07-17T07:36:30.835+0000","layers":[],"memory_size":128,"package_type":"Zip","publish":true,"qualified_arn":"arn:aws:lambda:us-east-1:911891700576:function:start-lambda:2","qualified_invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:911891700576:function:start-lambda:2/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::911891700576:role/service-role/stop-ec2-serverless-demo-role-if41syaa","runtime":"python3.9","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"NEnuJz4ubeI6GfipgmBdOuXEhuzoznpruj5atAkqQDI=","source_code_size":526,"tags":{},"tags_all":{},"timeout":30,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"2","vpc_config":[]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]}},{"address":"module.lambda.aws_lambda_function.stop_lambda","mode":"managed","type":"aws_lambda_function","name":"stop_lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:911891700576:function:stop-lambda","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"instance_id":"i-02de443f0ea5e5e31","region":"us-east-1"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"modules/lambda/stop_lambda.zip","function_name":"stop-lambda","handler":"stop_lambda.lambda_handler","id":"stop-lambda","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:911891700576:function:stop-lambda/invocations","kms_key_arn":"","last_modified":"2025-07-17T07:36:25.058+0000","layers":[],"memory_size":128,"package_type":"Zip","publish":true,"qualified_arn":"arn:aws:lambda:us-east-1:911891700576:function:stop-lambda:2","qualified_invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:911891700576:function:stop-lambda:2/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::911891700576:role/service-role/stop-ec2-serverless-demo-role-if41syaa","runtime":"python3.9","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"EVAZ/GIq/JZZYMeEanhTyG9j5w9TSF8iw+6V3vr6nSk=","source_code_size":521,"tags":{},"tags_all":{},"timeout":30,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"2","vpc_config":[]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]}}],"address":"module.lambda"},{"resources":[{"address":"module.start_ec2_schedule.aws_scheduler_schedule.lambda_trigger","mode":"managed","type":"aws_scheduler_schedule","name":"lambda_trigger","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Trigger Lambda to startEC2","end_date":null,"flexible_time_window":[{"maximum_window_in_minutes":null,"mode":"OFF"}],"group_name":"default","kms_key_arn":null,"name":"start-ec2-schedule","schedule_expression":"cron(*/5 * * * ? *)","schedule_expression_timezone":"Asia/Kolkata","start_date":null,"state":"ENABLED","target":[{"arn":"arn:aws:lambda:us-east-1:911891700576:function:start-lambda","dead_letter_config":[],"ecs_parameters":[],"eventbridge_parameters":[],"input":null,"kinesis_parameters":[],"retry_policy":[],"role_arn":"arn:aws:iam::911891700576:policy/service-role/Amazon-EventBridge-Scheduler-Execution-Policy-1a4e577d-d5dc-4e47-8a14-f73e9b1b40d8","sagemaker_pipeline_parameters":[],"sqs_parameters":[]}]},"sensitive_values":{"flexible_time_window":[{}],"target":[{"dead_letter_config":[],"ecs_parameters":[],"eventbridge_parameters":[],"kinesis_parameters":[],"retry_policy":[],"sagemaker_pipeline_parameters":[],"sqs_parameters":[]}]}}],"address":"module.start_ec2_schedule"},{"resources":[{"address":"module.stop_ec2_schedule.aws_scheduler_schedule.lambda_trigger","mode":"managed","type":"aws_scheduler_schedule","name":"lambda_trigger","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"description":"Trigger Lambda to stop EC2","end_date":null,"flexible_time_window":[{"maximum_window_in_minutes":null,"mode":"OFF"}],"group_name":"default","kms_key_arn":null,"name":"stop-ec2-schedule","schedule_expression":"cron(*/6 * * * ? *)","schedule_expression_timezone":"Asia/Kolkata","start_date":null,"state":"ENABLED","target":[{"arn":"arn:aws:lambda:us-east-1:911891700576:function:stop-lambda","dead_letter_config":[],"ecs_parameters":[],"eventbridge_parameters":[],"input":null,"kinesis_parameters":[],"retry_policy":[],"role_arn":"arn:aws:iam::911891700576:policy/service-role/Amazon-EventBridge-Scheduler-Execution-Policy-1a4e577d-d5dc-4e47-8a14-f73e9b1b40d8","sagemaker_pipeline_parameters":[],"sqs_parameters":[]}]},"sensitive_values":{"flexible_time_window":[{}],"target":[{"dead_letter_config":[],"ecs_parameters":[],"eventbridge_parameters":[],"kinesis_parameters":[],"retry_policy":[],"sagemaker_pipeline_parameters":[],"sqs_parameters":[]}]}}],"address":"module.stop_ec2_schedule"}]}},"resource_changes":[{"address":"module.lambda.aws_lambda_function.start_lambda","module_address":"module.lambda","mode":"managed","type":"aws_lambda_function","name":"start_lambda","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:911891700576:function:start-lambda","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"instance_id":"i-02de443f0ea5e5e31","region":"us-east-1"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"modules/lambda/start_lambda.zip","function_name":"start-lambda","handler":"start_lambda.lambda_handler","id":"start-lambda","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:911891700576:function:start-lambda/invocations","kms_key_arn":"","last_modified":"2025-07-17T07:36:30.835+0000","layers":[],"memory_size":128,"package_type":"Zip","publish":true,"qualified_arn":"arn:aws:lambda:us-east-1:911891700576:function:start-lambda:2","qualified_invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:911891700576:function:start-lambda:2/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::911891700576:role/service-role/stop-ec2-serverless-demo-role-if41syaa","runtime":"python3.9","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"NEnuJz4ubeI6GfipgmBdOuXEhuzoznpruj5atAkqQDI=","source_code_size":526,"tags":{},"tags_all":{},"timeout":30,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"2","vpc_config":[]},"after":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:911891700576:function:start-lambda","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"instance_id":"i-02de443f0ea5e5e31","region":"us-east-1"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"modules/lambda/start_lambda.zip","function_name":"start-lambda","handler":"start_lambda.lambda_handler","id":"start-lambda","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:911891700576:function:start-lambda/invocations","kms_key_arn":"","last_modified":"2025-07-17T07:36:30.835+0000","layers":[],"memory_size":128,"package_type":"Zip","publish":true,"qualified_arn":"arn:aws:lambda:us-east-1:911891700576:function:start-lambda:2","qualified_invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:911891700576:function:start-lambda:2/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::911891700576:role/service-role/stop-ec2-serverless-demo-role-if41syaa","runtime":"python3.9","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"NEnuJz4ubeI6GfipgmBdOuXEhuzoznpruj5atAkqQDI=","source_code_size":526,"tags":{},"tags_all":{},"timeout":30,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"2","vpc_config":[]},"after_unknown":{},"before_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]},"after_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]}}},{"address":"module.lambda.aws_lambda_function.stop_lambda","module_address":"module.lambda","mode":"managed","type":"aws_lambda_function","name":"stop_lambda","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["no-op"],"before":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:911891700576:function:stop-lambda","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"instance_id":"i-02de443f0ea5e5e31","region":"us-east-1"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"modules/lambda/stop_lambda.zip","function_name":"stop-lambda","handler":"stop_lambda.lambda_handler","id":"stop-lambda","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:911891700576:function:stop-lambda/invocations","kms_key_arn":"","last_modified":"2025-07-17T07:36:25.058+0000","layers":[],"memory_size":128,"package_type":"Zip","publish":true,"qualified_arn":"arn:aws:lambda:us-east-1:911891700576:function:stop-lambda:2","qualified_invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:911891700576:function:stop-lambda:2/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::911891700576:role/service-role/stop-ec2-serverless-demo-role-if41syaa","runtime":"python3.9","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"EVAZ/GIq/JZZYMeEanhTyG9j5w9TSF8iw+6V3vr6nSk=","source_code_size":521,"tags":{},"tags_all":{},"timeout":30,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"2","vpc_config":[]},"after":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:911891700576:function:stop-lambda","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"instance_id":"i-02de443f0ea5e5e31","region":"us-east-1"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"modules/lambda/stop_lambda.zip","function_name":"stop-lambda","handler":"stop_lambda.lambda_handler","id":"stop-lambda","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:911891700576:function:stop-lambda/invocations","kms_key_arn":"","last_modified":"2025-07-17T07:36:25.058+0000","layers":[],"memory_size":128,"package_type":"Zip","publish":true,"qualified_arn":"arn:aws:lambda:us-east-1:911891700576:function:stop-lambda:2","qualified_invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:911891700576:function:stop-lambda:2/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::911891700576:role/service-role/stop-ec2-serverless-demo-role-if41syaa","runtime":"python3.9","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"EVAZ/GIq/JZZYMeEanhTyG9j5w9TSF8iw+6V3vr6nSk=","source_code_size":521,"tags":{},"tags_all":{},"timeout":30,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"2","vpc_config":[]},"after_unknown":{},"before_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]},"after_sensitive":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]}}},{"address":"module.start_ec2_schedule.aws_scheduler_schedule.lambda_trigger","module_address":"module.start_ec2_schedule","mode":"managed","type":"aws_scheduler_schedule","name":"lambda_trigger","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Trigger Lambda to startEC2","end_date":null,"flexible_time_window":[{"maximum_window_in_minutes":null,"mode":"OFF"}],"group_name":"default","kms_key_arn":null,"name":"start-ec2-schedule","schedule_expression":"cron(*/5 * * * ? *)","schedule_expression_timezone":"Asia/Kolkata","start_date":null,"state":"ENABLED","target":[{"arn":"arn:aws:lambda:us-east-1:911891700576:function:start-lambda","dead_letter_config":[],"ecs_parameters":[],"eventbridge_parameters":[],"input":null,"kinesis_parameters":[],"retry_policy":[],"role_arn":"arn:aws:iam::911891700576:policy/service-role/Amazon-EventBridge-Scheduler-Execution-Policy-1a4e577d-d5dc-4e47-8a14-f73e9b1b40d8","sagemaker_pipeline_parameters":[],"sqs_parameters":[]}]},"after_unknown":{"arn":true,"flexible_time_window":[{}],"id":true,"name_prefix":true,"target":[{"dead_letter_config":[],"ecs_parameters":[],"eventbridge_parameters":[],"kinesis_parameters":[],"retry_policy":[],"sagemaker_pipeline_parameters":[],"sqs_parameters":[]}]},"before_sensitive":false,"after_sensitive":{"flexible_time_window":[{}],"target":[{"dead_letter_config":[],"ecs_parameters":[],"eventbridge_parameters":[],"kinesis_parameters":[],"retry_policy":[],"sagemaker_pipeline_parameters":[],"sqs_parameters":[]}]}}},{"address":"module.stop_ec2_schedule.aws_scheduler_schedule.lambda_trigger","module_address":"module.stop_ec2_schedule","mode":"managed","type":"aws_scheduler_schedule","name":"lambda_trigger","provider_name":"registry.terraform.io/hashicorp/aws","change":{"actions":["create"],"before":null,"after":{"description":"Trigger Lambda to stop EC2","end_date":null,"flexible_time_window":[{"maximum_window_in_minutes":null,"mode":"OFF"}],"group_name":"default","kms_key_arn":null,"name":"stop-ec2-schedule","schedule_expression":"cron(*/6 * * * ? *)","schedule_expression_timezone":"Asia/Kolkata","start_date":null,"state":"ENABLED","target":[{"arn":"arn:aws:lambda:us-east-1:911891700576:function:stop-lambda","dead_letter_config":[],"ecs_parameters":[],"eventbridge_parameters":[],"input":null,"kinesis_parameters":[],"retry_policy":[],"role_arn":"arn:aws:iam::911891700576:policy/service-role/Amazon-EventBridge-Scheduler-Execution-Policy-1a4e577d-d5dc-4e47-8a14-f73e9b1b40d8","sagemaker_pipeline_parameters":[],"sqs_parameters":[]}]},"after_unknown":{"arn":true,"flexible_time_window":[{}],"id":true,"name_prefix":true,"target":[{"dead_letter_config":[],"ecs_parameters":[],"eventbridge_parameters":[],"kinesis_parameters":[],"retry_policy":[],"sagemaker_pipeline_parameters":[],"sqs_parameters":[]}]},"before_sensitive":false,"after_sensitive":{"flexible_time_window":[{}],"target":[{"dead_letter_config":[],"ecs_parameters":[],"eventbridge_parameters":[],"kinesis_parameters":[],"retry_policy":[],"sagemaker_pipeline_parameters":[],"sqs_parameters":[]}]}}}],"prior_state":{"format_version":"1.0","terraform_version":"1.12.2","values":{"root_module":{"child_modules":[{"resources":[{"address":"module.lambda.data.archive_file.start_lambda","mode":"data","type":"archive_file","name":"start_lambda","provider_name":"registry.terraform.io/hashicorp/archive","schema_version":0,"values":{"exclude_symlink_directories":null,"excludes":null,"id":"2215474a5d679f5294d468d7f41035fb710138bc","output_base64sha256":"NEnuJz4ubeI6GfipgmBdOuXEhuzoznpruj5atAkqQDI=","output_base64sha512":"N0+LvmY42Vi4183dFK4sbOywVdqZEdWLePGwR1eBImoAx+KlRSUdeXpvPYMteQNZ4Bbomr1rZ2hJPU2nHlU8Zg==","output_file_mode":null,"output_md5":"bbc62d282e0ec7f1bd450d742cd9dc01","output_path":"modules/lambda/start_lambda.zip","output_sha":"2215474a5d679f5294d468d7f41035fb710138bc","output_sha256":"3449ee273e2e6de23a19f8a982605d3ae5c486ece8ce7a6bba3e5ab4092a4032","output_sha512":"374f8bbe6638d958b8d7cddd14ae2c6cecb055da9911d58b78f1b0475781226a00c7e2a545251d797a6f3d832d790359e016e89abd6b6768493d4da71e553c66","output_size":526,"source":[],"source_content":null,"source_content_filename":null,"source_dir":null,"source_file":"modules/lambda/start_lambda.py","type":"zip"},"sensitive_values":{"source":[]}},{"address":"module.lambda.data.archive_file.stop_lambda","mode":"data","type":"archive_file","name":"stop_lambda","provider_name":"registry.terraform.io/hashicorp/archive","schema_version":0,"values":{"exclude_symlink_directories":null,"excludes":null,"id":"296860848b5a9a44447cb2c22a544fd7d9a1998b","output_base64sha256":"EVAZ/GIq/JZZYMeEanhTyG9j5w9TSF8iw+6V3vr6nSk=","output_base64sha512":"i8C7KnbJRakH50ZJ38pyfDs6Aj+rz9HtHsqdWx6Wj1ZJ+mDIo6JEwJBujUhVhvk0KCFypwohY2pnKK9BSNMJBA==","output_file_mode":null,"output_md5":"e6c193b491d36e6a052deef7250591f4","output_path":"modules/lambda/stop_lambda.zip","output_sha":"296860848b5a9a44447cb2c22a544fd7d9a1998b","output_sha256":"115019fc622afc965960c7846a7853c86f63e70f53485f22c3ee95defafa9d29","output_sha512":"8bc0bb2a76c945a907e74649dfca727c3b3a023fabcfd1ed1eca9d5b1e968f5649fa60c8a3a244c0906e8d485586f934282172a70a21636a6728af4148d30904","output_size":521,"source":[],"source_content":null,"source_content_filename":null,"source_dir":null,"source_file":"modules/lambda/stop_lambda.py","type":"zip"},"sensitive_values":{"source":[]}},{"address":"module.lambda.aws_lambda_function.start_lambda","mode":"managed","type":"aws_lambda_function","name":"start_lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:911891700576:function:start-lambda","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"instance_id":"i-02de443f0ea5e5e31","region":"us-east-1"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"modules/lambda/start_lambda.zip","function_name":"start-lambda","handler":"start_lambda.lambda_handler","id":"start-lambda","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:911891700576:function:start-lambda/invocations","kms_key_arn":"","last_modified":"2025-07-17T07:36:30.835+0000","layers":[],"memory_size":128,"package_type":"Zip","publish":true,"qualified_arn":"arn:aws:lambda:us-east-1:911891700576:function:start-lambda:2","qualified_invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:911891700576:function:start-lambda:2/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::911891700576:role/service-role/stop-ec2-serverless-demo-role-if41syaa","runtime":"python3.9","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"NEnuJz4ubeI6GfipgmBdOuXEhuzoznpruj5atAkqQDI=","source_code_size":526,"tags":{},"tags_all":{},"timeout":30,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"2","vpc_config":[]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]},"depends_on":["module.lambda.data.archive_file.start_lambda"]},{"address":"module.lambda.aws_lambda_function.stop_lambda","mode":"managed","type":"aws_lambda_function","name":"stop_lambda","provider_name":"registry.terraform.io/hashicorp/aws","schema_version":0,"values":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:911891700576:function:stop-lambda","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"instance_id":"i-02de443f0ea5e5e31","region":"us-east-1"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"modules/lambda/stop_lambda.zip","function_name":"stop-lambda","handler":"stop_lambda.lambda_handler","id":"stop-lambda","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:911891700576:function:stop-lambda/invocations","kms_key_arn":"","last_modified":"2025-07-17T07:36:25.058+0000","layers":[],"memory_size":128,"package_type":"Zip","publish":true,"qualified_arn":"arn:aws:lambda:us-east-1:911891700576:function:stop-lambda:2","qualified_invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:911891700576:function:stop-lambda:2/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::911891700576:role/service-role/stop-ec2-serverless-demo-role-if41syaa","runtime":"python3.9","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"EVAZ/GIq/JZZYMeEanhTyG9j5w9TSF8iw+6V3vr6nSk=","source_code_size":521,"tags":{},"tags_all":{},"timeout":30,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"2","vpc_config":[]},"sensitive_values":{"architectures":[false],"dead_letter_config":[],"environment":[{"variables":{}}],"ephemeral_storage":[{}],"file_system_config":[],"image_config":[],"layers":[],"snap_start":[],"tags":{},"tags_all":{},"tracing_config":[{}],"vpc_config":[]},"depends_on":["module.lambda.data.archive_file.stop_lambda"]}],"address":"module.lambda"}]}}},"configuration":{"provider_config":{"aws":{"name":"aws","full_name":"registry.terraform.io/hashicorp/aws","version_constraint":"~\u003e 4.0","expressions":{"region":{"constant_value":"us-east-1"}}},"module.lambda:archive":{"name":"archive","full_name":"registry.terraform.io/hashicorp/archive","module_address":"module.lambda"}},"root_module":{"module_calls":{"lambda":{"source":"./modules/lambda","expressions":{"instance_id":{"references":["var.instance_id"]},"lambda_function":{"references":["var.lambda_role"]},"region":{"references":["var.region"]}},"module":{"outputs":{"start_lambda_function_arn":{"expression":{"references":["aws_lambda_function.start_lambda.arn","aws_lambda_function.start_lambda"]}},"start_lambda_function_name":{"expression":{"references":["aws_lambda_function.start_lambda.function_name","aws_lambda_function.start_lambda"]}},"stop_lambda_function_arn":{"expression":{"references":["aws_lambda_function.stop_lambda.arn","aws_lambda_function.stop_lambda"]}},"stop_lambda_function_name":{"expression":{"references":["aws_lambda_function.stop_lambda.function_name","aws_lambda_function.stop_lambda"]}}},"resources":[{"address":"aws_lambda_function.start_lambda","mode":"managed","type":"aws_lambda_function","name":"start_lambda","provider_config_key":"aws","expressions":{"environment":[{"variables":{"references":["var.instance_id","var.region"]}}],"filename":{"references":["data.archive_file.start_lambda.output_path","data.archive_file.start_lambda"]},"function_name":{"references":["var.lambda_function.start_name","var.lambda_function"]},"handler":{"constant_value":"start_lambda.lambda_handler"},"memory_size":{"constant_value":128},"publish":{"constant_value":true},"role":{"references":["var.lambda_function.role","var.lambda_function"]},"runtime":{"constant_value":"python3.9"},"timeout":{"constant_value":30}},"schema_version":0},{"address":"aws_lambda_function.stop_lambda","mode":"managed","type":"aws_lambda_function","name":"stop_lambda","provider_config_key":"aws","expressions":{"environment":[{"variables":{"references":["var.instance_id","var.region"]}}],"filename":{"references":["data.archive_file.stop_lambda.output_path","data.archive_file.stop_lambda"]},"function_name":{"references":["var.lambda_function.stop_name","var.lambda_function"]},"handler":{"constant_value":"stop_lambda.lambda_handler"},"memory_size":{"constant_value":128},"publish":{"constant_value":true},"role":{"references":["var.lambda_function.role","var.lambda_function"]},"runtime":{"constant_value":"python3.9"},"timeout":{"constant_value":30}},"schema_version":0},{"address":"data.archive_file.start_lambda","mode":"data","type":"archive_file","name":"start_lambda","provider_config_key":"module.lambda:archive","expressions":{"output_path":{"references":["path.module"]},"source_file":{"references":["path.module"]},"type":{"constant_value":"zip"}},"schema_version":0},{"address":"data.archive_file.stop_lambda","mode":"data","type":"archive_file","name":"stop_lambda","provider_config_key":"module.lambda:archive","expressions":{"output_path":{"references":["path.module"]},"source_file":{"references":["path.module"]},"type":{"constant_value":"zip"}},"schema_version":0}],"variables":{"instance_id":{"description":"Instance ID"},"lambda_function":{},"region":{"description":"AWS Region"}}}},"start_ec2_schedule":{"source":"./modules/event","expressions":{"description":{"constant_value":"Trigger Lambda to startEC2"},"lambda_arn":{"references":["module.lambda.start_lambda_function_arn","module.lambda"]},"lambda_name":{"references":["module.lambda.start_lambda_function_name","module.lambda"]},"name":{"constant_value":"start-ec2-schedule"},"schedule_expression":{"constant_value":"cron(*/5 * * * ? *)"},"scheduler_role_arn":{"references":["var.scheduler_role_arn"]}},"module":{"resources":[{"address":"aws_scheduler_schedule.lambda_trigger","mode":"managed","type":"aws_scheduler_schedule","name":"lambda_trigger","provider_config_key":"aws","expressions":{"description":{"references":["var.description"]},"flexible_time_window":[{"mode":{"constant_value":"OFF"}}],"group_name":{"constant_value":"default"},"name":{"references":["var.name"]},"schedule_expression":{"references":["var.schedule_expression"]},"schedule_expression_timezone":{"constant_value":"Asia/Kolkata"},"state":{"constant_value":"ENABLED"},"target":[{"arn":{"references":["var.lambda_arn"]},"role_arn":{"references":["var.scheduler_role_arn"]}}]},"schema_version":0}],"variables":{"description":{},"lambda_arn":{},"lambda_name":{},"name":{},"schedule_expression":{},"scheduler_role_arn":{}}}},"stop_ec2_schedule":{"source":"./modules/event","expressions":{"description":{"constant_value":"Trigger Lambda to stop EC2"},"lambda_arn":{"references":["module.lambda.stop_lambda_function_arn","module.lambda"]},"lambda_name":{"references":["module.lambda.stop_lambda_function_name","module.lambda"]},"name":{"constant_value":"stop-ec2-schedule"},"schedule_expression":{"constant_value":"cron(*/6 * * * ? *)"},"scheduler_role_arn":{"references":["var.scheduler_role_arn"]}},"module":{"resources":[{"address":"aws_scheduler_schedule.lambda_trigger","mode":"managed","type":"aws_scheduler_schedule","name":"lambda_trigger","provider_config_key":"aws","expressions":{"description":{"references":["var.description"]},"flexible_time_window":[{"mode":{"constant_value":"OFF"}}],"group_name":{"constant_value":"default"},"name":{"references":["var.name"]},"schedule_expression":{"references":["var.schedule_expression"]},"schedule_expression_timezone":{"constant_value":"Asia/Kolkata"},"state":{"constant_value":"ENABLED"},"target":[{"arn":{"references":["var.lambda_arn"]},"role_arn":{"references":["var.scheduler_role_arn"]}}]},"schema_version":0}],"variables":{"description":{},"lambda_arn":{},"lambda_name":{},"name":{},"schedule_expression":{},"scheduler_role_arn":{}}}}},"variables":{"instance_id":{},"lambda_name":{"description":"Lambda function name"},"lambda_role":{"description":"Lambda IAM role arn"},"region":{},"scheduler_role_arn":{}}}},"relevant_attributes":[{"resource":"module.lambda.aws_lambda_function.start_lambda","attribute":["arn"]},{"resource":"module.lambda.aws_lambda_function.start_lambda","attribute":["function_name"]},{"resource":"module.lambda.aws_lambda_function.stop_lambda","attribute":["arn"]},{"resource":"module.lambda.aws_lambda_function.stop_lambda","attribute":["function_name"]}],"timestamp":"2025-07-17T07:49:20Z","applyable":true,"complete":true,"errored":false}
